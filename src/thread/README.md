# Thread

- 프로세스는 실행중인 프로그램이다.
- 프로세스는 프로그램을 수행하는데 필요한 데이터와 메모리 등의 자원, 쓰레드로 구성되어 있다.
- 프로세스 자원을 이용해서 실제 작업을 수행하는 것이 스레드다.

- 모든 프로세스는 최소 하나 이상의 스레드가 존재한다. 둘 이상의 스레드를 가지면 '멀티스레드 프로세스'라고 한다.

- 하나의 프로세스가 가질 수 있는 스레드 개수는 제한되어 있지 않다. 그러나 쓰레드가 작업을 수행하는데 개별적인 호출스택이 필요하므로 메모리에 따라 갯수가 결정된다.

## 스레드 구현과 실행

### 구현 방법

1. Tread 클래스 상속
```java
class MyThread extends Thread{
    public void run(){
        
    }
}
```   

2. Runnable 인터페이스 구현
```java
class MyThread implements Runnable{
    public void run(){

    }
}

```
두 방법이 있지만 Thread 클래스를 상속받으면 다른 클래스를 상속받을 수 없기 때문에 Runnable 구현이 일반적이다.

#### 실행 방법

쓰레드 생성 후 `start()`를 호출해야만 쓰레드가 실행된다. 일단 대기 상태에 들어가고 자신의 차례가 되면 실행된다.

한 번 실행된 쓰레드는 다시 실행될 수 없다.

```java
ThreadEx1_1 t1 = new ThreadEx1_1();
t1.start();
t1.start(); // 예외 발생

```

```java
ThreadEx1_1 t1 = new ThreadEx1_1();
t1.start();
t1 = new ThreadEx1_1();
t1.start(); // 예외 발생 X

```

#### 쓰레드 실행 시 왜 run()이 아닌 start()를 호출할까?

메인메서드에서 run()을 호출하는 것은 생성된 쓰레드를 실행시키는 것이 아니라 단순히 클래스에 선언된 메서드를 호출하는 것이다.

start()는 쓰레드가 작업 실행에 필요한 호출스택을 생성해서 run()을 호출하고 호출스택에 처음으로 run()이 올라갈 수 있도록 한다. 
모든 쓰레드는 독립적인 작업 수행을 위해 자신의 호출 스택이 필요하다. 쓰레드를 생성할 때 호출스택이 생성되고, 종료될 때 소멸된다.


### 쓰레드 우선순위

쓰레드는 우선순위라는 속성을 가지고 있다. 1~10 범위를 가질 수 있고 기본값은 5이다.
`setPriority()`, `getPriority()` 로 우선순위를 변경, 조회 가능하다.

### 쓰레드 그룹

서로 관련된 쓰레드를 그룹으로 다루기 위한 것

자바 어플리케이션이 실행되면 JVM은 main과 system이라는 쓰레드 그룹을 만든다.
JVM 운영에 필요한 쓰레드들을 생성해서 이 쓰레드 그룹에 포함시킨다.


